{% extends "common.html" %}

{% block content %}
  <div class="max-w-4xl mx-auto mt-10 px-4">
    <h2 class="text-2xl font-bold mb-6 text-gray-800">Available Classes</h2>
    <ul class="space-y-4">
      {% for course_class in classes %}
        <li class="bg-white shadow-md rounded-lg p-4 flex justify-between items-center border border-gray-200">
          <div>
            <p class="text-lg font-semibold text-gray-700">{{ course_class.course_name }}</p>
            <p class="text-sm text-gray-500">by {{ course_class.teacher.username }}</p>
          </div>
          
          {% if course_class.id in joined_classes %}
            <a href="{% url 'class_content' course_class.id %}"
               class="text-white bg-green-600 hover:bg-green-700 font-semibold py-2 px-4 rounded-md shadow transition duration-150">
              Continue
            </a>
          {% else %}
            <a href="{% url 'join_class' course_class.id %}"
               class="text-white bg-blue-600 hover:bg-blue-700 font-semibold py-2 px-4 rounded-md shadow transition duration-150">
              Join
            </a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
